model Subscription {
  id                 String        @id @default(uuid())
  subscriber_id       String       
  subscriber        Traveler   @relation(fields: [subscriber_id], references: [id])
  plan_type         SubscriptionPlan
  payment_status     PaymentStatus @default(UNPAID)
  payment_method    String?
  start_date       DateTime
  end_date         DateTime
  is_active        Boolean       @default(true)
  created_at        DateTime         @default(now()) @map("created_at")
  updated_at        DateTime         @updatedAt      @map("updated_at")
  payments         Payment[]
  @@map("subscriptions")
}


model Payment {
  id                 String        @id @default(uuid())
  subscription_id      String        @unique
  subscription        Subscription   @relation(fields: [subscription_id], references: [id])
  transactionId      String
  amount             Float
  status             PaymentStatus @default(UNPAID)
  paymentGatewayData Json?
  created_at        DateTime         @default(now()) @map("created_at")
  updated_at        DateTime         @updatedAt      @map("updated_at")

  @@map("payments")
}
